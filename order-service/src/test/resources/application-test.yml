# src/test/resources/application-test.yml
server:
  port: 0 # random port for Spring Boot test

spring:
  main:
    allow-bean-definition-overriding: true
  application:
    name: order-service
    datasource:
      url: jdbc:postgresql://localhost:5432/food_delivery
      username: user
      password: pwd
      driver-class-name: org.postgresql.Driver

  jpa:
    hibernate:
      ddl-auto: create-drop
    show-sql: true
    properties:
      hibernate:
        format_sql: true

# Point the user-service client to WireMock
user-service:
  base-url: http://localhost:${wiremock.server.port}

# Optional logging tweaks for easier debugging
logging:
  level:
    root: INFO
    org.springframework.web.client.RestTemplate: DEBUG
    com.github.tomakehurst.wiremock: DEBUG
